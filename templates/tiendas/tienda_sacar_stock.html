{% extends "base.html" %}

{% block content %}
<section class="mb-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <div>
      <h1 class="h5 mb-1 text-light">
        Sacar stock · {{ tienda.nombre }}
      </h1>
      <p class="small mb-0 text-secondary">
        Producto: {{ producto.codigo }} · {{ producto.nombre }}<br>
        Stock actual: {{ stock.cantidad }} unidades
      </p>
    </div>
    <div>
      <a href="{{ url_for('tiendas_detalle', tienda_id=tienda.id) }}"
         class="btn btn-outline-light btn-sm">
        ← Volver a inventario
      </a>
    </div>
  </div>

  <div class="card card-panel">
    <div class="card-body">
      <form method="POST">
        <div class="mb-3">
          <label class="form-label text-light">Cantidad a retirar</label>
          <input type="number"
                 name="cantidad"
                 class="form-control"
                 min="1"
                 max="{{ stock.cantidad }}"
                 required>
          <div class="form-text text-secondary">
            Máximo: {{ stock.cantidad }} unidades.
          </div>
        </div>

        {# En el futuro podríamos guardar el motivo, por ahora es solo informativo #}
        <!--
        <div class="mb-3">
          <label class="form-label text-light">Motivo (opcional)</label>
          <input type="text" name="motivo" class="form-control"
                 placeholder="Devolución, traslado, daño, etc.">
        </div>
        -->

        <button type="submit" class="btn btn-accent">
          Confirmar
        </button>
      </form>
    </div>
  </div>
</section>
{% endblock %}